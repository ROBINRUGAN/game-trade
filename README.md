# 好二游项目文档

> ##### **平台名：好二游**

​        本项目是一个**二手游戏账号交易**平台，主要提供游戏账号交易服务，为玩家提供便利和安全性。服务器端采用springboot进行开发。


## **项目地址**

后端项目地址：https://github.com/Poldroc/game-trade.git

## 接口文档

地址：https://apifox.com/apidoc/shared-ffdc6350-1e7c-4813-ac9c-04e923d9baca

## **技术栈**

- Springboot + Sa-Token + Durid + MySQL+ MyBatisPlus + redis + WebSocket 等



## **项目结构（目录树）注释**

```Java
├─ src
│  ├─ main
│  │  ├─ java
│  │  │  └─ com
│  │  │      └─ game_trade
│  │  │          ├─ common       // 通用类
│  │  │          ├─ component    // 部件
│  │  │          ├─ config       // 配置类
│  │  │          ├─ controller   // 控制器
│  │  │          ├─ dao          // 实体类
│  │  │          ├─ domain       // 数据访问层
│  │  │          ├─ dto          // DTO数据传输对象
│  │  │          ├─ exception    // 异常处理类
│  │  │          ├─ service      // 服务层
│  │  │          │   └─ impl     // 接口
│  │  │          └─ utils        // 工具包
│  │  └─ resources
│  └─ test
│      └─ java
│          └─ com
│              └─ game_trade
└─ pom.xml                       // Maven 项目配置文件
```

## **项目的亮点**

### 技术亮点

- redis缓存邮箱验证码。
- redis缓存商品、用户信息，减少对信息的重复查询，提高查询速度。
- 使用Sa-Token这个上手简单的安全框架实现身份认证，减少代码量。
- Sa-Token实现控制器级别的权限控制。
- 使用阿里云OSS对象存储来存储图片。
- 引入实名认证API。
- 使用websocket实现聊天功能，支持历史记录和图片交流。
- 使用websocket实现系统通知。

### 封装亮点

- 项目结构较为清晰，代码规范易于维护。
- 封装DTO，减少原生对象的多余参数。
- 封装了许多util类、方便实名认证、密码加密、文件处理等操作。

### 前端亮点

- 引入Nes.css主题框架，同时调用zipx字体，实现网站像素风化，简约美观。
- 前端请求前加入相关判断条件，减少后端处理的压力。


## 平台支持功能

### 支持交易流程 

![img](https://gitee.com/poldroc/typora-drawing-bed01/raw/master/imgs/202307091607968.png)

### 支持聊天功能

1. 支持文字、图片交流 
2. 保存聊天记录 
3. 支持屏蔽功能 （待完成）
4. 有聊天界面和消息提醒 
5. 可以接收系统发送通知 （配合前端完成）

### 支持黑名单功能

用户举报或平台检测

 ↓ 

管理员审核，决定加入黑名单 

 ↓ 

回复用户审核情况 

***黑名单用户只能使用充值和提现功能和接受系统消息，其他功能不允许使用，且昵称头像进行特殊处理*** 

### 支持后台审核

- 管理员权限： 审核商品，审核用户举报 
- 管理员有处理事故的功能

### 支持个人中心

**用户买卖家一体**

***个人中心可查看：*** 

- 个人信息： 用户名，昵称，头像，修改密码，绑定邮箱，实名认证 
- 买家中心：已购买订单，收藏订单，出价订单 
- 卖家中心：出售商品，已完成订单，买家的出价 
- 余额钱包： 充值，提现

### 支持事故处理

**目前主要有两大情况：** 

1. 交易完成后，卖家找回账号 

处理手段：紧急冻结卖家钱包，管理员审核账号情况。情况属实，若卖家钱包足够交易价格，则按交易价 格返回给买家，解冻卖家钱包，将卖家加入黑名单； 

若钱包不足交易价格，将钱包余额全数返回买家（平台可以自行补偿），并将卖家加入讨债列表和黑名单 

1. 买家收货后，取消交易，卖家检查账户发现问题拒绝取消交易 

处理手段：管理员审核账号情况。账号确实受损，如卖家同意，按照账号受损情况将交易金按协议比例发 给卖家，剩余交易金返回买家。  

如账号价值严重受损，没有什么交易价值，则将交易金全部发给卖家，通知买家，且买家加入黑名单；如 卖家不同意，则进行协调程序。  

账号并没有价值受损，则告知卖家，结束交易过程，交易金返还买家；如卖家不同意，则进行协调程
